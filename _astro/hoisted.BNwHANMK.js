function v(e){let t="en";const s=e.substring(0,3),o=e.substring(0,4);return(s==="/de"&&e.length==3||o==="/de/")&&(t="de"),t}function y(){if(window.initNavCalled)return;window.initNavCalled=!0;const e=document.getElementById("js-mobileNavBtn"),t=document.getElementById("js-mobileNavBtnOpen"),s=document.getElementById("js-mobileNavBtnClose"),o=document.getElementById("js-mobileNav");if(e&&t&&s&&o){const l=f=>{o.classList.contains("hidden")?(o.classList.remove("hidden"),o.classList.add("flex"),e.setAttribute("aria-expanded","true"),t.classList.add("hidden"),s.classList.remove("hidden")):(o.classList.remove("flex"),o.classList.add("hidden"),e.setAttribute("aria-expanded","false"),t.classList.remove("hidden"),s.classList.add("hidden"))};window.attachedMobileNavListener||(e.addEventListener("click",l),window.attachedMobileNavListener=!0)}const c=document.querySelectorAll(".js-navlink");c.length&&c.forEach(l=>{const f=l.getAttribute("data-path");let u=window.location.pathname;v(u)!=="en"&&(u=u.substring(3)),f&&f===u&&(l.classList.add("text-gray-500"),l.classList.remove("text-primaryBlack"))});const i=document.getElementById("js-careerToolsBtn"),n=document.getElementById("js-careerToolsNav"),d=document.getElementById("js-pageHeader");if(i&&n&&d){const l=()=>{n.classList.add("hidden"),n.classList.remove("flex"),i.classList.remove("text-primaryBlack"),i.setAttribute("aria-expanded","false")};i.addEventListener("click",f=>{n.classList.contains("hidden")?(n.classList.add("flex"),n.classList.remove("hidden"),i.classList.add("text-primaryBlack"),i.setAttribute("aria-expanded","true"),document.addEventListener("click",function(u){u.target&&!i.contains(u.target)&&!n.contains(u.target)&&l()})):l()})}let a=!1;d&&n&&(d.addEventListener("mouseenter",()=>{window.innerWidth>1024&&(a=!0,d.style.backgroundColor="rgba(255, 255, 255, 1)")}),d.addEventListener("mouseleave",()=>{if(window.innerWidth>1024)if(a=!1,n.classList.contains("hidden")){const f=window.scrollY,u=Math.min(f/200,1);d.style.backgroundColor=`rgba(255, 255, 255, ${u})`}else d.style.backgroundColor="rgba(255, 255, 255, 1)";else d.style.backgroundColor="rgba(255, 255, 255, 0)"}));const r=()=>{const l=document.getElementById("js-pageHeader");if(l){const f=window.innerWidth;if(a&&f>1024){l.style.backgroundColor="rgba(255, 255, 255, 1)";return}if(f>1024){const u=window.scrollY,w=Math.min(u/200,1);l.style.backgroundColor=`rgba(255, 255, 255, ${w})`}else l.style.backgroundColor="rgba(255, 255, 255, 0)"}};window.addEventListener("scroll",function(){r()}),r()}function b(){if(typeof window<"u"){if(window.initFeedback)return;window.initFeedback="done"}const e=document.getElementById("js-footerFeedbackArea"),t=document.getElementById("js-footerFeedbackForm");if(!e||!t)return;function s(){const o=document.getElementById("js-footerFeedbackArea");if(o){o.style.height="inherit";const c=o.scrollHeight;o.style.height=c+"px"}}s(),e.addEventListener("input",o=>{s()}),t.addEventListener("submit",o=>{o.preventDefault(),document.getElementById("js-footerFeedbackForm");const c=document.getElementById("js-footerFeedbackThanks"),i=document.getElementById("js-footerFeedbackArea");i&&c&&(i.classList.add("hidden"),c.classList.remove("hidden"),setTimeout(()=>{i.classList.remove("hidden"),c.classList.add("hidden"),i.value="",i.style.height="inherit";const d=i.scrollHeight;i.style.height=d+"px"},5e3));let n="";i&&(n=i.value),E()&&n&&fetch("https://app.flowcv.com/api/public/user_feedback",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({userFeedback:n,type:"astro"}),mode:"cors"})})}function E(){return"fetch"in window}function L(){if(window.URLSearchParams){const t=new URLSearchParams(window.location.search).get("scrollY");t&&setTimeout(()=>{window.scrollTo(0,t)},50)}}function k(){document.querySelectorAll(".js-languageSelect").forEach(t=>{t.addEventListener("change",function(s){const o=s.target;if(o){const c=o.value,i=window.location.pathname;let n=i;c==="de"?i==="/"?n="/de":n=`/de${i}`:i==="/de"||i==="/de/"?n="/":i.startsWith("/de/")&&(n=i.replace("/de/","/")),window.location.href=n}})})}function S(e){const t=[].slice.call(document.querySelectorAll(".lazy, .lazybg"));let s=new IntersectionObserver(function(o,c){o.forEach(function(i){if(i.isIntersecting){const n=i.target,d=n.tagName;if(d==="IMG")n.dataset.src&&(n.src=n.dataset.src),n.dataset.srcset&&(n.srcset=n.dataset.srcset),n.dataset.sizes&&(n.sizes=n.dataset.sizes),n.classList.remove("lazy"),s.unobserve(n);else if(d==="PICTURE"){n.classList.remove("lazy"),s.unobserve(n);for(const a in n.children){const r=n.children[a];r.tagName==="SOURCE"?(r.srcset=r.dataset.srcset,r.sizes=r.dataset.sizes):r.tagName==="IMG"&&(r.src=r.dataset.src)}}else if(d==="VIDEO"){for(const a in n.children){const r=n.children[a];typeof r.tagName=="string"&&r.tagName==="SOURCE"&&(r.src=r.dataset.src)}n.load(),n.classList.remove("lazy"),s.unobserve(n)}else if(n.classList.contains("lazybg")){const a=n.dataset.lazybg;a&&(n.style.backgroundImage=`url(${a})`)}else{const a=n.dataset.lazyfunction;a?e[a]():console.error("CHECK LAZY:) ",n,d)}}})},{rootMargin:"0px 0px 500px 0px"});t.forEach(function(o){s.observe(o)})}const m="https://flowcv.com",B="Hi everyone, check out this free resume builder!:)";function h(e){const t=Object.entries(e).filter(([,s])=>s!=null).map(([s,o])=>`${encodeURIComponent(s)}=${encodeURIComponent(String(o))}`);return t.length>0?`?${t.join("&")}`:""}function j(){try{A(),I(),C(),N(),W(),F()}catch(e){console.error(e)}}function x(e,t){return{left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-e/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-t/2}}function g(e,t){const c={height:500,width:500,...x(500,500),location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes"},i=Object.keys(c).map(n=>`${n}=${c[n]}`).join(", ");window.open(e,"",i)}function I(){const e="https://twitter.com/share"+h({url:m,hashtags:"resume,jobs,career"}),t=document.getElementById("shareBtn__twitter");t&&t.addEventListener("click",s=>{g(e)})}function A(){const e="https://linkedin.com/shareArticle"+h({url:m,mini:"true"}),t=document.getElementById("shareBtn__linkedin");t&&t.addEventListener("click",s=>{g(e)})}function N(){const e="https://www.reddit.com/submit"+h({url:m}),t=document.getElementById("shareBtn__reddit");t&&t.addEventListener("click",s=>{g(e)})}function C(){const e="https://www.facebook.com/sharer/sharer.php"+h({u:m,quote:B}),t=document.getElementById("shareBtn__fb");t&&t.addEventListener("click",s=>{g(e)})}function W(){const e=document.getElementById("shareBtn__wa");if(!e)return;const t="https://api.whatsapp.com/send"+h({text:m});e.addEventListener("click",s=>{g(t)})}function F(){const e=document.getElementById("shareBtn__telegram");if(!e)return;const t="https://telegram.me/share/url"+h({url:m,text:"Hi, everyone:) Check out this Resume Builder!"});e.addEventListener("click",s=>{g(t)})}function p(){let e=0;const t=document.getElementById("js-landingPageLoved-container"),s=document.getElementById("js-landingPageLoved-slider"),o=document.getElementById("js-landingPageLoved-left"),c=document.getElementById("js-landingPageLoved-right"),i=document.querySelectorAll(".js-landingPageLoved-slide"),n=i[0];if(o&&c&&s&&n&&t){const d=t.clientWidth,a=n.clientWidth,r=a*i.length;c.addEventListener("click",function(){e=Math.max(e-a,d-r),t.scroll({left:-e,behavior:"smooth"}),l()}),o.addEventListener("click",function(){e=Math.min(e+a,0),t.scroll({left:-e,behavior:"smooth"}),l()}),t.addEventListener("scroll",f=>{e=-f?.target?.scrollLeft,l()});const l=()=>{e===0?o.classList.add("text-gray-500"):o.classList.remove("text-gray-500"),e===d-r?c.classList.add("text-gray-500"):c.classList.remove("text-gray-500")};l()}}function q(e){try{const t=location.href,s=document.referrer,o=window.innerWidth,c={kind:e,loc:t,ref:s,width:o},i=new Blob([JSON.stringify(c)],{type:"application/json"});navigator.sendBeacon("https://flowcv.com/clientlog",i)}catch(t){console.error(t)}}function $(){const e=document.querySelectorAll(".js-faqQuestion");e.forEach(t=>{t.addEventListener("click",()=>{const s=t.querySelector(".js-faqIcon"),o=t.querySelector(".js-faqAnswer");e.forEach(c=>{if(c!==t){const i=c.querySelector(".js-faqIcon"),n=c.querySelector(".js-faqAnswer");i&&n&&(i.classList.remove("rotate-45"),n.classList.add("-top-[9999px]"),n.classList.add("absolute"))}}),!(!s||!o)&&(s.classList.toggle("rotate-45"),o.classList.toggle("absolute"),o.classList.toggle("-top-[9999px]"))})})}function M(){if(window.templatesFilter)return;window.templatesFilter=!0;const e=document.querySelectorAll('.js-templateFilter input[type="checkbox"]');e.forEach(s=>{s.addEventListener("change",t)}),e.forEach(s=>{if(s.name==="all"){s.checked=!0;const o=s.nextElementSibling;o&&o.classList.add("bg-white")}else s.checked=!1});function t(s){const o=s.target,c=o.name;if(c==="all"&&Array.from(document.querySelectorAll('.js-templateFilter input[type="checkbox"]')).forEach(r=>{r.name!=="all"&&(r.checked=!1,r.nextElementSibling.classList.remove("bg-white"))}),c!=="all"){const a=document.querySelector('input[type="checkbox"][name="all"]');a&&(a.checked=!1,a.nextElementSibling.classList.remove("bg-white"))}o.checked?o.nextElementSibling.classList.add("bg-white"):o.nextElementSibling.classList.remove("bg-white");const n=Array.from(document.querySelectorAll('.js-templateFilter input[type="checkbox"]')).filter(a=>a.checked).map(a=>a.name);if(n.length===0){const a=document.querySelector('input[type="checkbox"][name="all"]');a&&(a.checked=!0,a.nextElementSibling.classList.add("bg-white"))}document.querySelectorAll(".js-template").forEach(a=>{let r=a.getAttribute("data-tags");if(r){const l=r.split(",");l.length&&(n.some(u=>l.includes(u))||n.length===0||n.includes("all")?a.classList.remove("hidden"):a.classList.add("hidden"))}})}}function T(){document.querySelectorAll(".js-readMore").forEach(t=>{const s=t.querySelector(".js-readMoreBtn");s&&(s.setAttribute("aria-expanded","false"),s.addEventListener("click",()=>{t.querySelectorAll(".js-readMoreTarget").forEach(c=>{c.classList.remove("hidden")}),s.setAttribute("aria-expanded","true"),s.classList.add("hidden")}))})}function O(){const e=document.getElementById("js-webResumeOuterWrapper");if(!e)return;const t=document.getElementById("js-webResumeInnerWrapper");if(!t)return;const s=t.childNodes.length,o=t.childNodes[0];if(!o)return;const c=o.offsetWidth,i=o.offsetHeight,n=e.offsetWidth,d=Math.min(1.1,n/c);t.style.transform=`scale(${d})`,t.style.width=`${c*d}px`;const r=i*d*s+40*s;t.style.height=`${r}px`}function R(){const e=document.getElementById("js-downloadResumeBtn"),t=document.getElementsByTagName("main")[0],s=document.getElementById("js-downloadResumeSpinner"),o=document.getElementById("js-downloadErrorMessage");if(e&&t&&s&&o){const i=window.location.pathname.split("/"),n=i[i.length-1],r=`${(t.getAttribute("data-fullname")??"").replace(/,/g,"").split(" ").join("-")}-FlowCV-Resume-${z(new Date)}`;e.addEventListener("click",function(){e.style.display="none",s.classList.remove("hidden"),o.classList.add("hidden"),fetch(`https://app.flowcv.com/api/public/download_resume?token=${n}`).then(l=>l.status===429?(o.textContent="Too many requests.",o.classList.remove("hidden"),e.style.display="flex",Promise.reject(new Error("Too many requests"))):l.blob()).then(l=>{const f=window.URL.createObjectURL(l),u=document.createElement("a");u.href=f,u.download=`${r}.pdf`,document.body.appendChild(u),u.click(),window.URL.revokeObjectURL(f),e.style.display="flex",s.classList.add("hidden")}).catch(l=>{e.style.display="flex",s.classList.add("hidden")}).finally(()=>{s.classList.add("hidden"),e.style.display="flex"})})}}function z(e){let t=e.getFullYear(),s=(e.getMonth()+1).toString().padStart(2,"0"),o=e.getDate().toString().padStart(2,"0");return`${t}${s}${o}`}window.addEventListener("DOMContentLoaded",()=>{y(),S({}),j(),k(),b(),p(),$(),T(),p(),q("pageview"),O(),R(),M(),L()});window.addEventListener("load",function(e){L()});window.addEventListener("resize",function(){y(),b()});window.addEventListener("error",function(e){console.error("event",e)});
